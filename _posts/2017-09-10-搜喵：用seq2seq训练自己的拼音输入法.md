---
layout: post
comments: true
title: 搜喵：用seq2seq训练自己的拼音输入法
published: true
---

### 代码在 [https://github.com/crownpku/Somiao-Pinyin](https://github.com/crownpku/Somiao-Pinyin)


对于中文文本数据，我们每天都在为腾讯贡献着聊天记录，或者为百度贡献着搜索记录。而中文文本数据最大的入口，我觉得其实是搜狗输入法。这些年看上去，搜狗已经基本统治了中文输入法。PC，Mac，iPhone，安卓都装上了搜狗输入法，甚至码农朋友们装上ubuntu后的第一反应也是去装个linux版本的Sougou Input（虽然很多bug）。搜狗输入法真的好用，而且越用越顺手，背后一定是数据驱动的算法。

然而我对于把我的所有输入数据，包括各种密码，都不知不觉贡献给了搜狗还是觉得不舒服。搜狗完全有能力在我输入我复杂的前半部分密码的时候自动跳出和推荐我的后半部分密码。貌似现在只有iPhone的iOS系统能在识别出用户输入密码的时候自动跳转成为苹果自己的（我们窃以为安全的）输入法键盘。

前几天在Github上看到了一个韩国大神的project [Kyubyong/neural_chinese_transliterator](https://github.com/Kyubyong/neural_chinese_transliterator)，用seq2seq训练自己的中文拼音输入法。这是这篇博客的主题。我们的代码完全基于这个开源项目，加入了交互式的拼音测试环境 。感谢韩国大神！而未来是希望能将这个偏research的项目做成一个真正可用的产品，一个**模型和数据本地化**（别把数据上传云端）、**根据输入内容手动甚至自动选择预训练模型**（想象正在B站发弹幕或者在写毕业论文的不同场景）、**根据用户输入数据不断更新越来越好用**的拼音输入法。


## seq2seq模型


## 语料获取


## 模型训练


## 一些结果


```
请输入测试拼音：nihao
你好

请输入测试拼音：chenggongle
成功了

请输入测试拼音：wolegequ
我了个曲

请输入测试拼音：taibangla
太棒啦

请输入测试拼音：dacolehuizenmeyang
打破了会怎么样

请输入测试拼音：pujinghehujintaotongdianhua
普京和胡锦涛通电话

请输入测试拼音：xiangbuqilaishinianqianfashengleshenme
想不起来十年前发生了什么

请输入测试拼音：meiguohongzhawomenzainansilafudedashiguan
美国轰炸我们在南斯拉夫的大事馆

请输入测试拼音：liudehuanageshihouhaonianqing
刘德华那个时候好年轻

请输入测试拼音：shishihouxunlianyixiabilibilideyuliaole
是时候训练一下比例比例的预料了
```

